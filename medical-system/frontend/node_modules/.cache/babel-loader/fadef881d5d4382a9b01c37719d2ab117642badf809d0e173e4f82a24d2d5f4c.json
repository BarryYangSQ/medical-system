{"ast":null,"code":"import React,{useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{Row,Col,Card,ListGroup}from'react-bootstrap';import{editOrderById,fetchOrdersByStaffId}from'../actions/staffAction';import Loader from'../components/Loader';import Message from'../components/Message';import{fetchOrdersById}from'../actions/userAction';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const StaOrderListScreen=()=>{const{id:userId}=useParams();const navigate=useNavigate();const dispatch=useDispatch();const userOrders=useSelector(state=>state.userOrders);const{loading,error,orders}=userOrders;useEffect(()=>{if(userId){dispatch(fetchOrdersById(userId));}},[dispatch,userId]);const getStatusMessage=status=>{switch(status){case'Scheduled':return{variant:'info',message:'Scheduled'};case'Ready':return{variant:'success',message:'Ready'};case'Cancelled':return{variant:'danger',message:'Cancelled'};case'Transfer':return{variant:'warning',message:'Transfer'};default:return{variant:'secondary',message:'Unknown'};}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-center\",children:[\"User Orders for \",userId]}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:/*#__PURE__*/_jsx(Col,{md:10,children:/*#__PURE__*/_jsx(ListGroup,{variant:\"flush\",children:orders.map(order=>/*#__PURE__*/_jsx(ListGroup.Item,{className:\"p-3\",children:/*#__PURE__*/_jsxs(Card,{className:\"mb-3 shadow\",style:{cursor:'pointer'},children:[/*#__PURE__*/_jsxs(Card.Header,{as:\"h4\",className:\"text-center bg-primary text-white\",children:[\"Order ID: \",order._id]}),/*#__PURE__*/_jsx(Card.Body,{children:order.orderItems.length>0?order.orderItems.map((item,index)=>/*#__PURE__*/_jsx(Card,{className:\"mb-2\",children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:4,children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"User Name:\"}),\" \",order.user.name]})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date:\"}),\" \",new Date(item.date).toLocaleDateString()]})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Slot:\"}),\" \",item.slot]})})]}),/*#__PURE__*/_jsxs(Col,{md:5,children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Illness Description:\"})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:order.illnessDescription})})]}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Message,{...getStatusMessage(item.status),children:getStatusMessage(item.status).message})})]})})},index)):/*#__PURE__*/_jsx(Message,{variant:\"info\",children:\"No appointment requests found.\"})})]})},order._id))})})})]});};export default StaOrderListScreen;","map":{"version":3,"names":["React","useEffect","useParams","useNavigate","useDispatch","useSelector","Row","Col","Card","ListGroup","editOrderById","fetchOrdersByStaffId","Loader","Message","fetchOrdersById","jsxs","_jsxs","jsx","_jsx","StaOrderListScreen","id","userId","navigate","dispatch","userOrders","state","loading","error","orders","getStatusMessage","status","variant","message","children","className","md","map","order","Item","style","cursor","Header","as","_id","Body","orderItems","length","item","index","user","name","Date","date","toLocaleDateString","slot","illnessDescription"],"sources":["C:/Users/陈云林/Desktop/health/health-project/frontend/src/screens/UserOrderlist.js"],"sourcesContent":["import React, { useEffect } from 'react'\r\nimport { useParams, useNavigate } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Row, Col, Card, ListGroup } from 'react-bootstrap'\r\nimport { editOrderById, fetchOrdersByStaffId } from '../actions/staffAction'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport { fetchOrdersById } from '../actions/userAction'\r\n\r\nconst StaOrderListScreen = () => {\r\n  const { id: userId } = useParams()\r\n  const navigate = useNavigate()\r\n  const dispatch = useDispatch()\r\n  const userOrders = useSelector(state => state.userOrders)\r\n  const { loading, error, orders } = userOrders\r\n\r\n  useEffect(() => {\r\n    if (userId) {\r\n      dispatch(fetchOrdersById(userId))\r\n    }\r\n  }, [dispatch, userId])\r\n\r\n  const getStatusMessage = (status) => {\r\n    switch (status) {\r\n      case 'Scheduled':\r\n        return { variant: 'info', message: 'Scheduled' }\r\n      case 'Ready':\r\n        return { variant: 'success', message: 'Ready' }\r\n      case 'Cancelled':\r\n        return { variant: 'danger', message: 'Cancelled' }\r\n      case 'Transfer':\r\n        return { variant: 'warning', message: 'Transfer' }\r\n      default:\r\n        return { variant: 'secondary', message: 'Unknown' }\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h1 className=\"text-center\">User Orders for {userId}</h1>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : error ? (\r\n        <Message variant=\"danger\">{error}</Message>\r\n      ) : (\r\n        <Row className=\"justify-content-center\">\r\n          <Col md={10}>\r\n            <ListGroup variant=\"flush\">\r\n              {orders.map(order => (\r\n                <ListGroup.Item key={order._id} className=\"p-3\">\r\n                  <Card className=\"mb-3 shadow\" style={{ cursor: 'pointer' }}>\r\n                    <Card.Header as=\"h4\" className=\"text-center bg-primary text-white\">Order ID: {order._id}</Card.Header>\r\n                    <Card.Body>\r\n                      {order.orderItems.length > 0 ? order.orderItems.map((item, index) => (\r\n                        <Card className=\"mb-2\" key={index}>\r\n                          <Card.Body>\r\n                            <Row>\r\n                              <Col md={4}>\r\n\r\n                                <Row>\r\n                                  <Col><strong>User Name:</strong> {order.user.name}</Col>\r\n                                </Row>\r\n                                <Row>\r\n                                  <Col><strong>Date:</strong> {new Date(item.date).toLocaleDateString()}</Col>\r\n                                </Row>\r\n                                <Row>\r\n                                  <Col><strong>Slot:</strong> {item.slot}</Col>\r\n                                </Row>\r\n                              </Col>\r\n                              <Col md={5}>\r\n                                <Row>\r\n                                  <Col><strong>Illness Description:</strong></Col>\r\n                                </Row>\r\n                                <Row>\r\n                                  <Col>{order.illnessDescription}</Col>\r\n                                </Row>\r\n                              </Col>\r\n                              <Col md={3}>\r\n                                <Message {...getStatusMessage(item.status)}>{getStatusMessage(item.status).message}</Message>\r\n                              </Col>\r\n                            </Row>\r\n                          </Card.Body>\r\n                        </Card>\r\n                      )) : (\r\n                        <Message variant=\"info\">No appointment requests found.</Message>\r\n                      )}\r\n                    </Card.Body>\r\n                  </Card>\r\n                </ListGroup.Item>\r\n              ))}\r\n            </ListGroup>\r\n          </Col>\r\n        </Row>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default StaOrderListScreen\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,GAAG,CAAEC,GAAG,CAAEC,IAAI,CAAEC,SAAS,KAAQ,iBAAiB,CAC3D,OAASC,aAAa,CAAEC,oBAAoB,KAAQ,wBAAwB,CAC5E,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,OAASC,eAAe,KAAQ,uBAAuB,QAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAEvD,KAAM,CAAAC,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,KAAM,CAAEC,EAAE,CAAEC,MAAO,CAAC,CAAGnB,SAAS,CAAC,CAAC,CAClC,KAAM,CAAAoB,QAAQ,CAAGnB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAoB,QAAQ,CAAGnB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAoB,UAAU,CAAGnB,WAAW,CAACoB,KAAK,EAAIA,KAAK,CAACD,UAAU,CAAC,CACzD,KAAM,CAAEE,OAAO,CAAEC,KAAK,CAAEC,MAAO,CAAC,CAAGJ,UAAU,CAE7CvB,SAAS,CAAC,IAAM,CACd,GAAIoB,MAAM,CAAE,CACVE,QAAQ,CAACT,eAAe,CAACO,MAAM,CAAC,CAAC,CACnC,CACF,CAAC,CAAE,CAACE,QAAQ,CAAEF,MAAM,CAAC,CAAC,CAEtB,KAAM,CAAAQ,gBAAgB,CAAIC,MAAM,EAAK,CACnC,OAAQA,MAAM,EACZ,IAAK,WAAW,CACd,MAAO,CAAEC,OAAO,CAAE,MAAM,CAAEC,OAAO,CAAE,WAAY,CAAC,CAClD,IAAK,OAAO,CACV,MAAO,CAAED,OAAO,CAAE,SAAS,CAAEC,OAAO,CAAE,OAAQ,CAAC,CACjD,IAAK,WAAW,CACd,MAAO,CAAED,OAAO,CAAE,QAAQ,CAAEC,OAAO,CAAE,WAAY,CAAC,CACpD,IAAK,UAAU,CACb,MAAO,CAAED,OAAO,CAAE,SAAS,CAAEC,OAAO,CAAE,UAAW,CAAC,CACpD,QACE,MAAO,CAAED,OAAO,CAAE,WAAW,CAAEC,OAAO,CAAE,SAAU,CAAC,CACvD,CACF,CAAC,CAGD,mBACEhB,KAAA,QAAAiB,QAAA,eACEjB,KAAA,OAAIkB,SAAS,CAAC,aAAa,CAAAD,QAAA,EAAC,kBAAgB,CAACZ,MAAM,EAAK,CAAC,CACxDK,OAAO,cACNR,IAAA,CAACN,MAAM,GAAE,CAAC,CACRe,KAAK,cACPT,IAAA,CAACL,OAAO,EAACkB,OAAO,CAAC,QAAQ,CAAAE,QAAA,CAAEN,KAAK,CAAU,CAAC,cAE3CT,IAAA,CAACZ,GAAG,EAAC4B,SAAS,CAAC,wBAAwB,CAAAD,QAAA,cACrCf,IAAA,CAACX,GAAG,EAAC4B,EAAE,CAAE,EAAG,CAAAF,QAAA,cACVf,IAAA,CAACT,SAAS,EAACsB,OAAO,CAAC,OAAO,CAAAE,QAAA,CACvBL,MAAM,CAACQ,GAAG,CAACC,KAAK,eACfnB,IAAA,CAACT,SAAS,CAAC6B,IAAI,EAAiBJ,SAAS,CAAC,KAAK,CAAAD,QAAA,cAC7CjB,KAAA,CAACR,IAAI,EAAC0B,SAAS,CAAC,aAAa,CAACK,KAAK,CAAE,CAAEC,MAAM,CAAE,SAAU,CAAE,CAAAP,QAAA,eACzDjB,KAAA,CAACR,IAAI,CAACiC,MAAM,EAACC,EAAE,CAAC,IAAI,CAACR,SAAS,CAAC,mCAAmC,CAAAD,QAAA,EAAC,YAAU,CAACI,KAAK,CAACM,GAAG,EAAc,CAAC,cACtGzB,IAAA,CAACV,IAAI,CAACoC,IAAI,EAAAX,QAAA,CACPI,KAAK,CAACQ,UAAU,CAACC,MAAM,CAAG,CAAC,CAAGT,KAAK,CAACQ,UAAU,CAACT,GAAG,CAAC,CAACW,IAAI,CAAEC,KAAK,gBAC9D9B,IAAA,CAACV,IAAI,EAAC0B,SAAS,CAAC,MAAM,CAAAD,QAAA,cACpBf,IAAA,CAACV,IAAI,CAACoC,IAAI,EAAAX,QAAA,cACRjB,KAAA,CAACV,GAAG,EAAA2B,QAAA,eACFjB,KAAA,CAACT,GAAG,EAAC4B,EAAE,CAAE,CAAE,CAAAF,QAAA,eAETf,IAAA,CAACZ,GAAG,EAAA2B,QAAA,cACFjB,KAAA,CAACT,GAAG,EAAA0B,QAAA,eAACf,IAAA,WAAAe,QAAA,CAAQ,YAAU,CAAQ,CAAC,IAAC,CAACI,KAAK,CAACY,IAAI,CAACC,IAAI,EAAM,CAAC,CACrD,CAAC,cACNhC,IAAA,CAACZ,GAAG,EAAA2B,QAAA,cACFjB,KAAA,CAACT,GAAG,EAAA0B,QAAA,eAACf,IAAA,WAAAe,QAAA,CAAQ,OAAK,CAAQ,CAAC,IAAC,CAAC,GAAI,CAAAkB,IAAI,CAACJ,IAAI,CAACK,IAAI,CAAC,CAACC,kBAAkB,CAAC,CAAC,EAAM,CAAC,CACzE,CAAC,cACNnC,IAAA,CAACZ,GAAG,EAAA2B,QAAA,cACFjB,KAAA,CAACT,GAAG,EAAA0B,QAAA,eAACf,IAAA,WAAAe,QAAA,CAAQ,OAAK,CAAQ,CAAC,IAAC,CAACc,IAAI,CAACO,IAAI,EAAM,CAAC,CAC1C,CAAC,EACH,CAAC,cACNtC,KAAA,CAACT,GAAG,EAAC4B,EAAE,CAAE,CAAE,CAAAF,QAAA,eACTf,IAAA,CAACZ,GAAG,EAAA2B,QAAA,cACFf,IAAA,CAACX,GAAG,EAAA0B,QAAA,cAACf,IAAA,WAAAe,QAAA,CAAQ,sBAAoB,CAAQ,CAAC,CAAK,CAAC,CAC7C,CAAC,cACNf,IAAA,CAACZ,GAAG,EAAA2B,QAAA,cACFf,IAAA,CAACX,GAAG,EAAA0B,QAAA,CAAEI,KAAK,CAACkB,kBAAkB,CAAM,CAAC,CAClC,CAAC,EACH,CAAC,cACNrC,IAAA,CAACX,GAAG,EAAC4B,EAAE,CAAE,CAAE,CAAAF,QAAA,cACTf,IAAA,CAACL,OAAO,KAAKgB,gBAAgB,CAACkB,IAAI,CAACjB,MAAM,CAAC,CAAAG,QAAA,CAAGJ,gBAAgB,CAACkB,IAAI,CAACjB,MAAM,CAAC,CAACE,OAAO,CAAU,CAAC,CAC1F,CAAC,EACH,CAAC,CACG,CAAC,EA3BcgB,KA4BtB,CACP,CAAC,cACA9B,IAAA,CAACL,OAAO,EAACkB,OAAO,CAAC,MAAM,CAAAE,QAAA,CAAC,gCAA8B,CAAS,CAChE,CACQ,CAAC,EACR,CAAC,EAtCYI,KAAK,CAACM,GAuCX,CACjB,CAAC,CACO,CAAC,CACT,CAAC,CACH,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAxB,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}