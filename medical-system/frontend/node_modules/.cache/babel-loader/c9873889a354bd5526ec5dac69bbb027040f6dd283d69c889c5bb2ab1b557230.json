{"ast":null,"code":"import{SET_ILLNESS_DESCRIPTION}from'../contents/descriptionContent';import{PREAPPOINTMENT_ADD_ITEM,PREAPPOINTMENT_REMOVE_ITEM}from'../contents/preAppointmentContent';// 确保 initialState 完整定义，没有任何 undefined 的属性\nconst initialState={preAppointmentItems:[],illnessDescription:''};export const preAppointmentReducer=function(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case PREAPPOINTMENT_ADD_ITEM:const item={...action.payload};const existItem=state.preAppointmentItems.find(x=>x.staff===item.staff);if(existItem){return{...state,preAppointmentItems:state.preAppointmentItems.map(x=>x.staff===existItem.staff?item:x)};}else{return{...state,preAppointmentItems:[...state.preAppointmentItems,item]};}case PREAPPOINTMENT_REMOVE_ITEM:return{...state,preAppointmentItems:state.preAppointmentItems.filter(x=>x.staff!==action.payload)};case SET_ILLNESS_DESCRIPTION:return{...state,illnessDescription:action.payload};default:return state;}};","map":{"version":3,"names":["SET_ILLNESS_DESCRIPTION","PREAPPOINTMENT_ADD_ITEM","PREAPPOINTMENT_REMOVE_ITEM","initialState","preAppointmentItems","illnessDescription","preAppointmentReducer","state","arguments","length","undefined","action","type","item","payload","existItem","find","x","staff","map","filter"],"sources":["C:/Users/陈云林/Desktop/health/health-project/frontend/src/reducers/preAppointmentReducer.js"],"sourcesContent":["import { SET_ILLNESS_DESCRIPTION } from '../contents/descriptionContent'\r\nimport {\r\n  PREAPPOINTMENT_ADD_ITEM,\r\n  PREAPPOINTMENT_REMOVE_ITEM,\r\n} from '../contents/preAppointmentContent'\r\n\r\n// 确保 initialState 完整定义，没有任何 undefined 的属性\r\nconst initialState = {\r\n  preAppointmentItems: [],\r\n  illnessDescription: '',\r\n}\r\n\r\nexport const preAppointmentReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case PREAPPOINTMENT_ADD_ITEM:\r\n      const item = {\r\n        ...action.payload,\r\n\r\n      }\r\n      const existItem = state.preAppointmentItems.find(x => x.staff === item.staff)\r\n\r\n      if (existItem) {\r\n        return {\r\n          ...state,\r\n          preAppointmentItems: state.preAppointmentItems.map(x =>\r\n            x.staff === existItem.staff ? item : x\r\n          ),\r\n        }\r\n      } else {\r\n        return {\r\n          ...state,\r\n          preAppointmentItems: [...state.preAppointmentItems, item],\r\n        }\r\n      }\r\n    case PREAPPOINTMENT_REMOVE_ITEM:\r\n      return {\r\n        ...state,\r\n        preAppointmentItems: state.preAppointmentItems.filter(x => x.staff !== action.payload),\r\n      }\r\n\r\n    case SET_ILLNESS_DESCRIPTION:\r\n      return {\r\n        ...state,\r\n        illnessDescription: action.payload,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n"],"mappings":"AAAA,OAASA,uBAAuB,KAAQ,gCAAgC,CACxE,OACEC,uBAAuB,CACvBC,0BAA0B,KACrB,mCAAmC,CAE1C;AACA,KAAM,CAAAC,YAAY,CAAG,CACnBC,mBAAmB,CAAE,EAAE,CACvBC,kBAAkB,CAAE,EACtB,CAAC,CAED,MAAO,MAAM,CAAAC,qBAAqB,CAAG,QAAAA,CAAA,CAAkC,IAAjC,CAAAC,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAGL,YAAY,IAAE,CAAAQ,MAAM,CAAAH,SAAA,CAAAC,MAAA,GAAAD,SAAA,IAAAE,SAAA,CAChE,OAAQC,MAAM,CAACC,IAAI,EACjB,IAAK,CAAAX,uBAAuB,CAC1B,KAAM,CAAAY,IAAI,CAAG,CACX,GAAGF,MAAM,CAACG,OAEZ,CAAC,CACD,KAAM,CAAAC,SAAS,CAAGR,KAAK,CAACH,mBAAmB,CAACY,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACC,KAAK,GAAKL,IAAI,CAACK,KAAK,CAAC,CAE7E,GAAIH,SAAS,CAAE,CACb,MAAO,CACL,GAAGR,KAAK,CACRH,mBAAmB,CAAEG,KAAK,CAACH,mBAAmB,CAACe,GAAG,CAACF,CAAC,EAClDA,CAAC,CAACC,KAAK,GAAKH,SAAS,CAACG,KAAK,CAAGL,IAAI,CAAGI,CACvC,CACF,CAAC,CACH,CAAC,IAAM,CACL,MAAO,CACL,GAAGV,KAAK,CACRH,mBAAmB,CAAE,CAAC,GAAGG,KAAK,CAACH,mBAAmB,CAAES,IAAI,CAC1D,CAAC,CACH,CACF,IAAK,CAAAX,0BAA0B,CAC7B,MAAO,CACL,GAAGK,KAAK,CACRH,mBAAmB,CAAEG,KAAK,CAACH,mBAAmB,CAACgB,MAAM,CAACH,CAAC,EAAIA,CAAC,CAACC,KAAK,GAAKP,MAAM,CAACG,OAAO,CACvF,CAAC,CAEH,IAAK,CAAAd,uBAAuB,CAC1B,MAAO,CACL,GAAGO,KAAK,CACRF,kBAAkB,CAAEM,MAAM,CAACG,OAC7B,CAAC,CACH,QACE,MAAO,CAAAP,KAAK,CAChB,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}