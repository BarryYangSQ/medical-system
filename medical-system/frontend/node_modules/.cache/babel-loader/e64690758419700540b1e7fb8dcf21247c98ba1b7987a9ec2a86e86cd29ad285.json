{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{useParams}from'react-router-dom';import{Container,Row,Col,ListGroup,Card}from'react-bootstrap';import Loader from'../components/Loader';import Message from'../components/Message';import{fetchMedicalHistory}from'../actions/userAction';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const formatDate=dateString=>{const date=new Date(dateString);return date.toISOString().substring(0,10);// YYYY-MM-DD format\n};const Medicalhistory=()=>{const{id}=useParams();const dispatch=useDispatch();const medicalHistoryState=useSelector(state=>state.userMedical);const{medicalHistories,loading,error}=medicalHistoryState;useEffect(()=>{if(id){dispatch(fetchMedicalHistory(id));}},[dispatch,id]);return/*#__PURE__*/_jsx(Container,{className:\"d-flex flex-column align-items-center\",children:loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsx(Row,{className:\"w-100\",children:medicalHistories.map(history=>/*#__PURE__*/_jsx(Col,{md:12,className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsxs(Card,{className:\"mb-3 w-100 shadow\",style:{cursor:'pointer'},children:[/*#__PURE__*/_jsx(Card.Header,{className:\"text-center\",style:{backgroundColor:'#f8f9fa',color:'white !important',fontWeight:'bold'},children:/*#__PURE__*/_jsxs(\"h3\",{children:[\"Medical ID: \",history._id]})}),/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsxs(ListGroup.Item,{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"User: \",history.user.name]}),/*#__PURE__*/_jsxs(\"h5\",{children:[\"Birth Day: \",formatDate(history.user.dateOfBirth)]})]}),/*#__PURE__*/_jsx(ListGroup.Item,{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"h4\",{children:[\"Staff: \",history.staff]})}),/*#__PURE__*/_jsx(ListGroup.Item,{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"h4\",{children:[\"Test: \",history.test]})}),/*#__PURE__*/_jsx(ListGroup.Item,{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"h4\",{children:[\"Medical Prescription: \",history.medicalPrescription]})}),/*#__PURE__*/_jsx(ListGroup.Item,{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"h4\",{children:[\"Diagnostic Result: \",history.diagnosticResult]})}),/*#__PURE__*/_jsx(ListGroup.Item,{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"h4\",{children:[\"Date: \",formatDate(history.date)]})})]})]})},history._id))})});};export default Medicalhistory;","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","useParams","Container","Row","Col","ListGroup","Card","Loader","Message","fetchMedicalHistory","jsx","_jsx","jsxs","_jsxs","formatDate","dateString","date","Date","toISOString","substring","Medicalhistory","id","dispatch","medicalHistoryState","state","userMedical","medicalHistories","loading","error","className","children","variant","map","history","md","style","cursor","Header","backgroundColor","color","fontWeight","_id","Item","user","name","dateOfBirth","staff","test","medicalPrescription","diagnosticResult"],"sources":["C:/Users/陈云林/Desktop/health/health-project/frontend/src/screens/Medicalhistroy.js"],"sourcesContent":["import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useParams } from 'react-router-dom'\r\nimport { Container, Row, Col, ListGroup, Card } from 'react-bootstrap'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport { fetchMedicalHistory } from '../actions/userAction'\r\n\r\nconst formatDate = (dateString) => {\r\n  const date = new Date(dateString)\r\n  return date.toISOString().substring(0, 10) // YYYY-MM-DD format\r\n}\r\n\r\nconst Medicalhistory = () => {\r\n  const { id } = useParams()\r\n  const dispatch = useDispatch()\r\n  const medicalHistoryState = useSelector(state => state.userMedical)\r\n  const { medicalHistories, loading, error } = medicalHistoryState\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      dispatch(fetchMedicalHistory(id))\r\n    }\r\n  }, [dispatch, id])\r\n\r\n  return (\r\n    <Container className=\"d-flex flex-column align-items-center\">\r\n      {loading ? (\r\n        <Loader />\r\n      ) : error ? (\r\n        <Message variant='danger'>{error}</Message>\r\n      ) : (\r\n        <Row className=\"w-100\">\r\n          {medicalHistories.map(history => (\r\n            <Col md={12} key={history._id} className=\"d-flex justify-content-center\">\r\n              <Card className=\"mb-3 w-100 shadow\" style={{ cursor: 'pointer' }}>\r\n                <Card.Header className=\"text-center\" style={{ backgroundColor: '#f8f9fa', color: 'white !important', fontWeight: 'bold' }}>\r\n                  <h3>Medical ID: {history._id}</h3>\r\n                </Card.Header>\r\n                <ListGroup variant='flush'>\r\n                  <ListGroup.Item className=\"text-center\">\r\n                    <h4>User: {history.user.name}</h4>\r\n                    <h5>Birth Day: {formatDate(history.user.dateOfBirth)}</h5>\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item className=\"text-center\">\r\n                    <h4>Staff: {history.staff}</h4>\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item className=\"text-center\">\r\n                    <h4>Test: {history.test}</h4>\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item className=\"text-center\">\r\n                    <h4>Medical Prescription: {history.medicalPrescription}</h4>\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item className=\"text-center\">\r\n                    <h4>Diagnostic Result: {history.diagnosticResult}</h4>\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item className=\"text-center\">\r\n                    <h4>Date: {formatDate(history.date)}</h4>\r\n                  </ListGroup.Item>\r\n                </ListGroup>\r\n              </Card>\r\n            </Col>\r\n          ))}\r\n        </Row>\r\n      )}\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Medicalhistory\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}