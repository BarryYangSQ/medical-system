{"ast":null,"code":"import React from'react';import{useDispatch,useSelector}from'react-redux';import Container from'react-bootstrap/Container';import{LinkContainer}from'react-router-bootstrap';import Nav from'react-bootstrap/Nav';import Navbar from'react-bootstrap/Navbar';import NavDropdown from'react-bootstrap/NavDropdown';import{logout}from'../actions/userAction';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Header=()=>{const dispatch=useDispatch();const userLogin=useSelector(state=>state.userLogin);const{userInfo}=userLogin;// 退出函数\nconst logoutHandler=()=>{dispatch(logout());};return/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(Navbar,{bg:\"dark\",variant:\"dark\",expand:\"lg\",className:\"bg-body-tertiary\",collapseOnSelect:true,children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/\",children:/*#__PURE__*/_jsx(Navbar.Brand,{className:\"brand-large\",children:\"Mobile Healthcare Platform\"})}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/_jsx(Navbar.Collapse,{id:\"basic-navbar-nav\",children:/*#__PURE__*/_jsxs(Nav,{className:\"ml-auto\",children:[(!userInfo||!userInfo.isAdmin&&!userInfo.position)&&/*#__PURE__*/_jsx(LinkContainer,{to:\"/users/orders/\".concat(userInfo===null||userInfo===void 0?void 0:userInfo._id),children:/*#__PURE__*/_jsxs(Nav.Link,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-stethoscope\"}),\" Appointment\"]})}),userInfo?/*#__PURE__*/_jsxs(NavDropdown,{title:userInfo.name,id:\"username\",children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"users/medicalhistory/\".concat(userInfo._id),children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Medical history\"})}),/*#__PURE__*/_jsx(NavDropdown.Item,{onClick:logoutHandler,children:\"LOG OUT\"})]}):/*#__PURE__*/_jsx(LinkContainer,{to:\"/login\",children:/*#__PURE__*/_jsxs(Nav.Link,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user\"}),\"LOGIN\"]})}),userInfo&&userInfo.isAdmin&&/*#__PURE__*/_jsx(NavDropdown,{title:\"Admin\",id:\"adminmenu\",children:/*#__PURE__*/_jsx(LinkContainer,{to:\"/admin/userlist\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"User list\"})})}),userInfo&&userInfo.position&&/*#__PURE__*/_jsxs(NavDropdown,{title:userInfo.position,id:\"staffmenu\",children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/staffs/orders/\".concat(userInfo._id),children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"My Appointment\"})}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/staffs/medicalhistory/\".concat(userInfo._id),children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Medicalhistory\"})})]})]})})]})})});};export default Header;","map":{"version":3,"names":["React","useDispatch","useSelector","Container","LinkContainer","Nav","Navbar","NavDropdown","logout","jsx","_jsx","jsxs","_jsxs","Header","dispatch","userLogin","state","userInfo","logoutHandler","children","bg","variant","expand","className","collapseOnSelect","to","Brand","Toggle","Collapse","id","isAdmin","position","concat","_id","Link","title","name","Item","onClick"],"sources":["C:/Users/陈云林/Desktop/health/health-project/frontend/src/components/Header.js"],"sourcesContent":["import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Container from 'react-bootstrap/Container'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport Navbar from 'react-bootstrap/Navbar'\r\nimport NavDropdown from 'react-bootstrap/NavDropdown'\r\nimport { logout } from '../actions/userAction'\r\n\r\nconst Header = () => {\r\n  const dispatch = useDispatch()\r\n  const userLogin = useSelector((state) => state.userLogin)\r\n  const { userInfo } = userLogin\r\n\r\n  // 退出函数\r\n  const logoutHandler = () => {\r\n    dispatch(logout())\r\n  }\r\n\r\n  return (\r\n    <header>\r\n      <Navbar bg='dark' variant='dark' expand=\"lg\" className=\"bg-body-tertiary\" collapseOnSelect>\r\n        <Container>\r\n          <LinkContainer to='/'>\r\n            <Navbar.Brand className=\"brand-large\">\r\n              Mobile Healthcare Platform\r\n            </Navbar.Brand>\r\n          </LinkContainer>\r\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n          <Navbar.Collapse id=\"basic-navbar-nav\">\r\n            <Nav className=\"ml-auto\">\r\n\r\n              {/* 只有当用户不是管理员且没有特定职位时才显示Appointment链接 */}\r\n              {(!userInfo || (!userInfo.isAdmin && !userInfo.position)) && (\r\n                <LinkContainer to={`/users/orders/${userInfo?._id}`}>\r\n                  <Nav.Link>\r\n                    <i className=\"fa-solid fa-stethoscope\"></i> Appointment\r\n                  </Nav.Link>\r\n                </LinkContainer>\r\n              )}\r\n\r\n              {/* 下拉展示登录状态 */}\r\n              {userInfo ? (\r\n                <NavDropdown title={userInfo.name} id='username'>\r\n                  {/* <LinkContainer to='/profile'>\r\n                    <NavDropdown.Item>个人详情</NavDropdown.Item>\r\n                  </LinkContainer> */}\r\n                  <LinkContainer to={`users/medicalhistory/${userInfo._id}`}>\r\n                    <NavDropdown.Item>Medical history</NavDropdown.Item>\r\n                  </LinkContainer>\r\n                  <NavDropdown.Item onClick={logoutHandler}>\r\n                    LOG OUT\r\n                  </NavDropdown.Item>\r\n                </NavDropdown>\r\n              ) : (\r\n                <LinkContainer to='/login'>\r\n                  <Nav.Link>\r\n                    <i className='fas fa-user'></i>LOGIN\r\n                  </Nav.Link>\r\n                </LinkContainer>\r\n              )}\r\n\r\n              {/* 实现管理员的显示 */}\r\n              {userInfo && userInfo.isAdmin && (\r\n                <NavDropdown title='Admin' id='adminmenu'>\r\n                  <LinkContainer to='/admin/userlist'>\r\n                    <NavDropdown.Item>User list</NavDropdown.Item>\r\n                  </LinkContainer>\r\n\r\n\r\n                </NavDropdown>\r\n              )}\r\n\r\n              {/* 如果用户有特定职位，展示相关下拉菜单 */}\r\n              {userInfo && userInfo.position && (\r\n                <NavDropdown title={userInfo.position} id='staffmenu'>\r\n                  <LinkContainer to={`/staffs/orders/${userInfo._id}`}>\r\n                    <NavDropdown.Item>My Appointment</NavDropdown.Item>\r\n                  </LinkContainer>\r\n                  <LinkContainer to={`/staffs/medicalhistory/${userInfo._id}`}>\r\n                    <NavDropdown.Item>Medicalhistory</NavDropdown.Item>\r\n                  </LinkContainer>\r\n                  {/* <LinkContainer to='/staff/Appointmentlist'>\r\n                    <NavDropdown.Item>完成Appointment</NavDropdown.Item>\r\n                  </LinkContainer> */}\r\n                </NavDropdown>\r\n              )}\r\n\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,MAAO,CAAAC,SAAS,KAAM,2BAA2B,CACjD,OAASC,aAAa,KAAQ,wBAAwB,CACtD,MAAO,CAAAC,GAAG,KAAM,qBAAqB,CACrC,MAAO,CAAAC,MAAM,KAAM,wBAAwB,CAC3C,MAAO,CAAAC,WAAW,KAAM,6BAA6B,CACrD,OAASC,MAAM,KAAQ,uBAAuB,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9C,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACnB,KAAM,CAAAC,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAc,SAAS,CAAGb,WAAW,CAAEc,KAAK,EAAKA,KAAK,CAACD,SAAS,CAAC,CACzD,KAAM,CAAEE,QAAS,CAAC,CAAGF,SAAS,CAE9B;AACA,KAAM,CAAAG,aAAa,CAAGA,CAAA,GAAM,CAC1BJ,QAAQ,CAACN,MAAM,CAAC,CAAC,CAAC,CACpB,CAAC,CAED,mBACEE,IAAA,WAAAS,QAAA,cACET,IAAA,CAACJ,MAAM,EAACc,EAAE,CAAC,MAAM,CAACC,OAAO,CAAC,MAAM,CAACC,MAAM,CAAC,IAAI,CAACC,SAAS,CAAC,kBAAkB,CAACC,gBAAgB,MAAAL,QAAA,cACxFP,KAAA,CAACT,SAAS,EAAAgB,QAAA,eACRT,IAAA,CAACN,aAAa,EAACqB,EAAE,CAAC,GAAG,CAAAN,QAAA,cACnBT,IAAA,CAACJ,MAAM,CAACoB,KAAK,EAACH,SAAS,CAAC,aAAa,CAAAJ,QAAA,CAAC,4BAEtC,CAAc,CAAC,CACF,CAAC,cAChBT,IAAA,CAACJ,MAAM,CAACqB,MAAM,EAAC,gBAAc,kBAAkB,CAAE,CAAC,cAClDjB,IAAA,CAACJ,MAAM,CAACsB,QAAQ,EAACC,EAAE,CAAC,kBAAkB,CAAAV,QAAA,cACpCP,KAAA,CAACP,GAAG,EAACkB,SAAS,CAAC,SAAS,CAAAJ,QAAA,EAGrB,CAAC,CAACF,QAAQ,EAAK,CAACA,QAAQ,CAACa,OAAO,EAAI,CAACb,QAAQ,CAACc,QAAS,gBACtDrB,IAAA,CAACN,aAAa,EAACqB,EAAE,kBAAAO,MAAA,CAAmBf,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEgB,GAAG,CAAG,CAAAd,QAAA,cAClDP,KAAA,CAACP,GAAG,CAAC6B,IAAI,EAAAf,QAAA,eACPT,IAAA,MAAGa,SAAS,CAAC,yBAAyB,CAAI,CAAC,eAC7C,EAAU,CAAC,CACE,CAChB,CAGAN,QAAQ,cACPL,KAAA,CAACL,WAAW,EAAC4B,KAAK,CAAElB,QAAQ,CAACmB,IAAK,CAACP,EAAE,CAAC,UAAU,CAAAV,QAAA,eAI9CT,IAAA,CAACN,aAAa,EAACqB,EAAE,yBAAAO,MAAA,CAA0Bf,QAAQ,CAACgB,GAAG,CAAG,CAAAd,QAAA,cACxDT,IAAA,CAACH,WAAW,CAAC8B,IAAI,EAAAlB,QAAA,CAAC,iBAAe,CAAkB,CAAC,CACvC,CAAC,cAChBT,IAAA,CAACH,WAAW,CAAC8B,IAAI,EAACC,OAAO,CAAEpB,aAAc,CAAAC,QAAA,CAAC,SAE1C,CAAkB,CAAC,EACR,CAAC,cAEdT,IAAA,CAACN,aAAa,EAACqB,EAAE,CAAC,QAAQ,CAAAN,QAAA,cACxBP,KAAA,CAACP,GAAG,CAAC6B,IAAI,EAAAf,QAAA,eACPT,IAAA,MAAGa,SAAS,CAAC,aAAa,CAAI,CAAC,QACjC,EAAU,CAAC,CACE,CAChB,CAGAN,QAAQ,EAAIA,QAAQ,CAACa,OAAO,eAC3BpB,IAAA,CAACH,WAAW,EAAC4B,KAAK,CAAC,OAAO,CAACN,EAAE,CAAC,WAAW,CAAAV,QAAA,cACvCT,IAAA,CAACN,aAAa,EAACqB,EAAE,CAAC,iBAAiB,CAAAN,QAAA,cACjCT,IAAA,CAACH,WAAW,CAAC8B,IAAI,EAAAlB,QAAA,CAAC,WAAS,CAAkB,CAAC,CACjC,CAAC,CAGL,CACd,CAGAF,QAAQ,EAAIA,QAAQ,CAACc,QAAQ,eAC5BnB,KAAA,CAACL,WAAW,EAAC4B,KAAK,CAAElB,QAAQ,CAACc,QAAS,CAACF,EAAE,CAAC,WAAW,CAAAV,QAAA,eACnDT,IAAA,CAACN,aAAa,EAACqB,EAAE,mBAAAO,MAAA,CAAoBf,QAAQ,CAACgB,GAAG,CAAG,CAAAd,QAAA,cAClDT,IAAA,CAACH,WAAW,CAAC8B,IAAI,EAAAlB,QAAA,CAAC,gBAAc,CAAkB,CAAC,CACtC,CAAC,cAChBT,IAAA,CAACN,aAAa,EAACqB,EAAE,2BAAAO,MAAA,CAA4Bf,QAAQ,CAACgB,GAAG,CAAG,CAAAd,QAAA,cAC1DT,IAAA,CAACH,WAAW,CAAC8B,IAAI,EAAAlB,QAAA,CAAC,gBAAc,CAAkB,CAAC,CACtC,CAAC,EAIL,CACd,EAEE,CAAC,CACS,CAAC,EACT,CAAC,CACN,CAAC,CACH,CAAC,CAEb,CAAC,CAED,cAAe,CAAAN,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}